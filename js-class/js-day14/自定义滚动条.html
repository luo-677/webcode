<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        
        .box {
            width: 300px;
            height: 500px;
            border: 1px solid black;
            overflow: hidden;
            float: left;
            position: relative;
        }
        
        p {
            user-select: none;
            position: absolute;
        }
        
        .scroll {
            width: 15px;
            height: 500px;
            float: left;
            border: 1px solid black;
            margin-left: 5px;
            position: relative;
        }
        
        .movebox {
            width: 13px;
            height: 30px;
            background-color: red;
            position: absolute;
        }
    </style>
    <script>
        window.onload = function() {
            // 滑块拖拽
            var moveBox = document.querySelector(".movebox");
            var scroll = document.querySelector(".scroll");
            var p = document.querySelector("p");
            var y = null;
            moveBox.onmousedown = function(ev) {
                var offsetY = ev.offsetY;
                document.onmousemove = function(ev) {
                    var pageY = ev.pageY;
                    y = pageY - offsetY;
                    if (y < 0) {
                        y = 0;
                    } else if (y > scroll.offsetHeight - moveBox.offsetHeight - 2) {
                        y = scroll.offsetHeight - moveBox.offsetHeight - 2;
                    }
                    moveBox.style.top = y + "px";
                    move();
                }
                document.onmouseup = function() {
                    document.onmousemove = null;
                }
            }

            function move() {
                var percent = y / (scroll.offsetHeight - moveBox.offsetHeight - 2);
                var pMove = (p.offsetHeight - scroll.offsetHeight + 2) * percent;
                p.style.top = -pMove + "px";
            }
        }
    </script>
</head>

<body>
    <div class="box">
        <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Ullam voluptatibus, consequuntur perferendis a possimus debitis accusamus quo deserunt nam hic aliquam expedita quisquam dolore magnam nesciunt officiis eligendi. Similique, pariatur.
        </p>
    </div>
    <div class="scroll">
        <div class="movebox"></div>
    </div>
</body>

</html>